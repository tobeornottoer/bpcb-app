import{d as oe,r as le,s as c,c as D,e as a,f as i,g as e,v as l,x as n,b as t,F as m,i as V,C as f,w as v,U as ae,ak as I,j as ne,p as ie,k as de,B as r,t as d,al as re,X as P,y,am as ce,af as _e,_ as pe}from"./index-61481958.js";import{_ as me}from"./pay-0b545f01.js";import{u as ue}from"./useCommon-1972965d.js";import{u as fe}from"./useOrder-b46809f8.js";import{u as ve,a as he}from"./useUnpayment-cc575f14.js";import"./config-8e92375e.js";import"./awaitPayment-33aff63c.js";import"./address-6fe9af1a.js";const u=h=>(ie("data-v-00487f5f"),h=h(),de(),h),ke={class:"unpayment-module"},ye=u(()=>e("div",{class:"header"},"Uncompleted Payment",-1)),xe={class:"search-form mt-[20px]"},Ce={class:"order-table"},we=ne('<div class="order-table-header" data-v-00487f5f><div class="min-w-[320px] name-cell" data-v-00487f5f>Product Name &amp; Details</div><div class="min-w-[126px]" data-v-00487f5f>consignee</div><div class="min-w-[40px]" data-v-00487f5f>Price</div><div class="min-w-[40px]" data-v-00487f5f>Freight</div><div class="min-w-[40px]" data-v-00487f5f>Status</div><div class="min-w-[140px]" data-v-00487f5f>Operation</div></div>',1),be={class:"order-table-body"},ge={class:"container-header"},Ve={class:"ml-[20px]"},Se={class:"order-no"},$e=["onClick"],De={class:"order-table-item"},Ie={class:"min-w-[308px]"},Pe={class:"cell child-cell"},Ne={class:"product-detail"},Oe=["onClick"],Te=u(()=>e("span",{class:"text"},"Product No.: ",-1)),Ue={key:0},Fe=u(()=>e("span",{class:"text"},"Solder mask: ",-1)),Re={key:1},Be=u(()=>e("span",{class:"text"},"Silkscreen: ",-1)),Ee={class:"order-type"},Le=["onClick"],ze={class:"min-w-[40px] cell"},Ae={class:"min-w-[40px] cell"},We={class:"min-w-[40px] cell"},je={class:"min-w-[140px] cell"},qe=u(()=>e("div",{class:"paypal-icon"},null,-1)),Me=["href"],Xe=u(()=>e("div",null,"Online Chat",-1)),Ge=["src"],He=oe({__name:"orders",setup(h){const{time:N,orderDetailRef:O,handleViewOrderdetail:S,handleProductImg:T,iframeUrl:U,chatVisible:x,closeChat:F,handleToChat:R}=ue(),{list:k,form:C,formRef:B,handleSearch:E,handleReset:L,getList:z}=fe({type:le("all")}),{editType:A,addressId:w,orderInfo:W,addressList:j,handleEditAddress:q,cancelEdit:M,sumbitEdit:X}=ve({getListFn:z}),{cancelOrder:G,payOrder:H}=he(k);return(Je,_)=>{const J=c("el-input"),$=c("el-form-item"),p=c("el-button"),K=c("el-form"),b=c("el-icon"),Q=c("el-option"),Y=c("el-select"),Z=c("el-empty"),ee=c("el-drawer"),te=D("time-format"),g=D("optimize");return a(),i("div",ke,[ye,e("div",xe,[l(K,{ref_key:"formRef",ref:B,model:t(C),"label-width":"170px",inline:!0},{default:n(()=>[l($,{prop:"search",label:"Order ID/Product No.:"},{default:n(()=>[l(J,{type:"text",modelValue:t(C).search,"onUpdate:modelValue":_[0]||(_[0]=s=>t(C).search=s),modelModifiers:{tirm:!0}},null,8,["modelValue"])]),_:1}),l($,null,{default:n(()=>[l(p,{class:"ml-[10px]",onClick:t(L)},{default:n(()=>[r("reset")]),_:1},8,["onClick"]),l(p,{type:"primary",class:"ml-[10px]",onClick:t(E)},{default:n(()=>[r("search")]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model"])]),e("div",Ce,[we,e("div",be,[t(k).length?(a(!0),i(m,{key:0},V(t(k),s=>(a(),i("div",{class:"order-table-container",key:s.id},[e("div",ge,[v(e("span",null,null,512),[[te,s.create_time,t(N)]]),e("span",Ve,[r("Order noï¼š"),e("span",Se,d(s.order_no),1)]),e("span",{class:"ml-[20px] service",onClick:o=>t(R)(s)},[r("customer service"),l(b,null,{default:n(()=>[l(t(re))]),_:1})],8,$e)]),e("div",De,[e("div",Ie,[(a(!0),i(m,null,V(s.products,o=>(a(),i("div",Pe,[e("div",{class:P([t(T)(o),"product-img"])},null,2),e("div",Ne,[e("div",{class:"title",onClick:se=>t(S)(o.id)},d(o.title),9,Oe),e("div",null,[Te,r(d(o.product_no),1)]),o.radSolderColor?(a(),i("div",Ue,[Fe,r(d(o.radSolderColor),1)])):f("",!0),o.radFontColor?(a(),i("div",Re,[Be,r(d(o.radFontColor),1)])):f("",!0),e("div",Ee,"["+d(o.order_type)+"]",1),e("div",{class:"detail-view cursor-pointer",onClick:se=>t(S)(o.id)}," Detail View ",8,Le)])]))),256))]),e("div",{class:P(["min-w-[126px] cell",{edit:s.statusTxt==="Waiting Pay"}])},[t(A)=="address"&&t(W).order_no==s.order_no?(a(),i(m,{key:0},[l(Y,{modelValue:t(w),"onUpdate:modelValue":_[1]||(_[1]=o=>I(w)?w.value=o:null),placeholder:"Please select address",class:"mb-[8px]"},{default:n(()=>[(a(!0),i(m,null,V(t(j),o=>(a(),y(Q,{value:o.id,key:o.id,label:`${o.street}, ${o.city}, ${o.country}(${o.postal})`},null,8,["value","label"]))),128))]),_:1},8,["modelValue"]),l(p,{link:"",onClick:t(M)},{default:n(()=>[r("cancel")]),_:1},8,["onClick"]),v((a(),y(p,{type:"primary",link:""},{default:n(()=>[r("confirm")]),_:1})),[[g,{event:"click",fn:t(X),timeout:400}]])],64)):(a(),i(m,{key:1},[e("div",null,d(s.consignee),1),e("div",null,d(s.address),1),l(b,{class:"edit-icon",onClick:o=>t(q)(s)},{default:n(()=>[l(t(ce))]),_:2},1032,["onClick"])],64))],2),e("div",ze,"$ "+d(s.freight),1),e("div",Ae,"$ "+d(s.freight),1),e("div",We,d(s.statusTxt),1),e("div",je,[s.statusTxt==="Waiting Pay"?(a(),i(m,{key:0},[v((a(),y(p,{class:"paypal-btn !block",type:"danger",plain:""},{default:n(()=>[qe]),_:2},1024)),[[g,{event:"click",fn:t(H),timeout:400,params:{order_no:s.order_no}}]]),v((a(),y(p,{link:"",class:"ml-0 mt-[10px] !block"},{default:n(()=>[r("cancellation of order")]),_:2},1024)),[[g,{event:"click",fn:t(G),timeout:400,params:{order_no:s.order_no}}]])],64)):f("",!0),s.statusTxt==="In transit"?(a(),i("a",{key:1,class:"express",href:s.express||"#",target:"_blank"},"Delivery Details",8,Me)):f("",!0)])])]))),128)):f("",!0),v(l(Z,null,null,512),[[ae,!t(k).length]])])]),l(ee,{class:"chat-drawer",modelValue:t(x),"onUpdate:modelValue":_[2]||(_[2]=s=>I(x)?x.value=s:null),"show-close":!1},{header:n(()=>[Xe,l(b,{onClick:t(F)},{default:n(()=>[l(t(_e))]),_:1},8,["onClick"])]),default:n(()=>[e("iframe",{src:t(U),frameborder:"0"},null,8,Ge)]),_:1},8,["modelValue"]),l(me,{ref_key:"orderDetailRef",ref:O},null,512)])}}});const lt=pe(He,[["__scopeId","data-v-00487f5f"]]);export{lt as default};
