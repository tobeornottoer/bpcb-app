import{K as r,V as n,W as i}from"./index-02b6e309.js";import{a as u}from"./address-ceff7901.js";const p=e=>r.request("post","/v1/pay/create/pre",{data:e}),l=e=>r.request("post","/v1/pay/create",{data:e}),A=e=>r.request("get","/v1/pay/waiting",{params:e}),P=(e,s)=>r.request("post",`/v1/pay/address/${e}`,{data:s}),f=e=>r.request("post",`/v1/pay/cancel/${e}`),_=e=>r.request("post",`/v1/pay/topay/${e}`),g=()=>r.request("get","/v1/order/can/pay"),y=n({id:"pure-awaitPayment",state:()=>({address:[],product_list:[],product_key:""}),actions:{setAddress(e){this.address=e},async getAddressList(){return new Promise((e,s)=>{var a;(a=this.address)!=null&&a.length?e(this.address):u().then(t=>{t.code===200&&t.message==="success"&&(this.address=t.data,e(t.data))}).catch(t=>{s(t)})})},setProductList(e){this.product_list=e},deleteProductById(e){this.product_list=this.product_list.filter(s=>s.id!=e)},setProductKey(e){this.product_key=e},async getAwaitPaymentInfo(e){return new Promise((s,a)=>{p(e).then(t=>{if(t.code===200&&t.message==="success"){const{address:d,product_list:c,product_key:o}=t.data;this.address=d,this.product_list=c,this.product_key=o,s(t)}}).catch(t=>{a(t)})})}}});function w(){return y(i)}export{g as a,y as b,l as c,A as d,f as e,P as f,_ as p,w as u};
